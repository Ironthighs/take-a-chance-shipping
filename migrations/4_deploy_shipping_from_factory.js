var ShippingFactory = artifacts.require("./ShippingFactory.sol");

module.exports = function(deployer) {
  let sf;
  let seller = web3.eth.accounts[1];
  let shipper = web3.eth.accounts[2];
  let buyer = web3.eth.accounts[3];
  let amount = .015e18;

  return ShippingFactory.deployed()
    .then((sfi) => {
      sf = sfi;
      return sf.buyerInitialize(seller, amount, {from: buyer, value: amount});
    })
    .then(() => {
      return sf.shipperCreateContract(seller, buyer, amount, 2e9, 2e9, {from: shipper, value: amount})
    })

};